{% for instance in currentClass.instances %}{%
    assign instanceName = instance.name | downcase | underscore_spaces %}
    Led.{{instanceName}} = Led(name='{{instance.systemName}}'){%
endfor %}

    @staticmethod
    def _Led_mix_colors({%
for group in currentClass.groups%}{{ group.name | downcase | underscore_spaces }}{%
    unless forloop.last %}, {% endunless %}{%
endfor %}):{%
for group in currentClass.groups %}{%
    assign groupName = group.name | downcase | underscore_spaces %}{%
    for instance in group.entries %}{%
        assign instanceName = instance | downcase | underscore_spaces %}
        Led.{{instanceName}}.brightness_pct = {{groupName}}{%
    endfor %}{%
endfor %}
    Led.mix_colors = _Led_mix_colors
{% for color in currentClass.colors %}{%
    assign colorName = color.name | downcase | underscore_spaces %}
    @staticmethod
    def _Led_set_{{ colorName }}(pct):
        Led.mix_colors({%
    for group in color.groups %}{{ group.name | downcase | underscore_spaces }}={{ group.value }}*pct{%
        unless forloop.last %}, {% endunless %}{%
    endfor %})
    Led.set_{{ colorName }} = _Led_set_{{ colorName }}

    @staticmethod
    def _Led_{{ colorName }}_on():
        Led.set_{{ colorName }}(1)
    Led.{{ colorName }}_on = _Led_{{ colorName }}_on
{% endfor %}
    @staticmethod
    def _Led_all_off():{%
for instance in currentClass.instances %}{%
    assign instanceName = instance.name | downcase | underscore_spaces %}
        Led.{{instanceName}}.brightness = 0{%
endfor %}
    Led.all_off = _Led_all_off

